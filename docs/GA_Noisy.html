<!DOCTYPE html>
<html lang="en">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!--TODO: fix stylesheet, add pictures, reformat document-->

<head>
    <title>Noisy</title>
    <link rel="stylesheet" href="styles3.css">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-120550704-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-120550704-1');
    </script>
    <!--jQuery api host from Google-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script>
    <style>
      img {
        margin:auto;
        width:45%;
        display:block;
      }
      .panel > img {
          float:left;
      }
      section {
        opacity: 1;
        width:48%;
      }
      .accordion {
        cursor: pointer;
        border: none;
        text-align: left;
        outline: none;
        transition: 0.4s;
      }
      .panel {
        min-height: 0;
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.2s ease-out;
      }
    </style>
</head>

<body>
    <h2>Noisy</h2>
    <h5>Matthew Yu</h5>
    <h5>October 31th, 2018</h5>
    <hr>
    <p>
        <b>Noisy</b> is a program that warps images based on noise and average color.
        This is part of a set of programs in the Generative Art collection that
        focuses on image distortion to create unique effects.
    </p>
    <p>
        Say you have an image, like this image:
    </p>
    <img src="https://cdn.spacetelescope.org/archives/images/wallpaper1/opo9607a.jpg">
    <p>
        It's a very pretty image. But the objective of this program is to turn it
        into something like...
    </p>
    <img src="description\Noisy\nebula.png">
    <p>
        To be fair, I don't remember what exactly I was intending on doing back
        in August, but it isn't <i>that</i> far fetched to infer that I was
        watching something on <a href="https://shiffman.net/">Dan Shiffman's</a>
        <a href="https://www.youtube.com/channel/UCvjgXvBlbQiydffZU7m1_aw"> Youtube
        channel</a> and was trying to learn how to use the P5Js Pixel array.
    </p>
    <p>
        The <a href="https://p5js.org/reference/#/p5/pixels">Pixel array</a> was
        indubitably one in a long series of annoying 1D arrays that I've had to
        take out a paper and spend a lot of mental gymnastics to create code that
        can turn it into a 2D representation.
    </p>
    <p>
        It was certainly worse that it was a 4 deep array, where the first 4
        (and every consecutive quad) represented the RGBA values of the pixel.
    </p>
    <p>
        But it had to be done, and the end code for accessing pixels along a
        width height dimension was:
    </p>
    <code>for (int i = 0; i < canvas; i += 4){<br>
    &nbsp;&nbsp;            if(i / (density * width / (width/25)) == blockIdx) {<br>
    &nbsp;&nbsp;&nbsp;&nbsp;    //do something<br>
    &nbsp;&nbsp;    }<br>
    }
    </code>
    <p>
        where <i>canvas</i> is the entire 1D array (of size 4 * width * density *
        height * density, yes density twice for some confounding reason), and
        blockIdx is the current pixel. The program doesn't access the inner loop
        unless ...
    </p>
    <p>
        The 25 is a modifiable number that affects how often the distortion is
        applied for the image. If you set it to 100, the picture tends to break
        into blocks across each row, (in sizes of at most 25 pixels).
    </p>
    <img src="description\Noisy\nebula3.png">
    <p>
        One of the things to notice is that after the program iterates after a
        couple frames, the image tends to start noising over into static, although
        as the color flickers the general outline is still semi-visible. This
        leads to less interesting results, so it's recommended that the number
        of iterations is kept low (like, less than 15) or under strict control.
    </p>
    <img src="description\Noisy\nebula2.png">
    <p>
        Here's the Codepen with an example image (that you can replace) set up.
        Click on it to stop/start the iterating.
    </p>
    <p data-height="686" data-theme-id="0" data-slug-hash="GBGvJR" data-default-tab="result" data-user="dimembermatt" data-pen-title="noisy" class="codepen">See the Pen <a href="https://codepen.io/dimembermatt/pen/GBGvJR/">noisy</a> by Matthew Yu (<a href="https://codepen.io/dimembermatt">@dimembermatt</a>) on <a href="https://codepen.io">CodePen</a>.</p>
    <script async src="https://static.codepen.io/assets/embed/ei.js"></script>
    <p>
        And the following is a gallery of images I've modified using this program.
    </p>
    <!--noisy gallery-->
    <div class="flex-container">
        <section>
          <button class="accordion"><h2>Noisy</h2></button>
          <div id="NoisyGallery" class="panel"></div>
          <script>
            let NoisyContainer = document.getElementById("NoisyGallery");
            //zero index contains extension
            //everything else is picture name
            let NoisyPictures = ["png", "coastline", "moon", "nebula2", "nebula3", "spaceMountain", "wunderscape1", "wunderscape2"];
            for (let i = 1; i < NoisyPictures.length; i++) {
              let src = "pictures/Noisy/" + NoisyPictures[i] + "." + NoisyPictures[0];
              let img = new Image();
              img.src = src;
              NoisyContainer.appendChild(img);
            }
          </script>
        </section>
    </div>
    <script>
      let acc = document.getElementsByClassName("accordion");
      for (let i = 0; i < acc.length; i++) {
        acc[i].addEventListener("click", function() {
          this.classList.toggle("active");
          let panel = this.nextElementSibling;
          let section = this.parentElement;
          if (panel.style.maxHeight) {
            panel.style.maxHeight = null;
            section.style.width = 48 + "%";
          } else {
            panel.style.maxHeight = panel.scrollHeight + 200 + "px";
            section.style.width = 98 + "%";
          }
        });
      }
    </script>

</body>
<footer>
    This page is part of a project to document and effectively communicate code
    and algorithms to people.
</footer>
